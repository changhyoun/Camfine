import{r as i,a as F,j as e,L as w}from"./index-Cynn-zBl.js";import{a as y}from"./axios-BimPEqV4.js";import{A as v,n as G,a as k,l as W}from"./autoplay-tINGqnA7.js";import{S as K,a as H,b as I}from"./swiper-react-WE8PHQjC.js";import{H as V}from"./Header-Dkr61oqu.js";import{F as B}from"./Footer-CpO1lOj6.js";import"./swiper-core-3Fj0mbiT.js";import"./firebase-Dh9yruW0.js";const Y="/Camfine/assets/SearchList_main_statistics_rt_back-CZIOnV8f.png",X="/Camfine/assets/LoadingList-EHqViFEk.png";var J={ADSK_CLM_WPAD_PROXY_CHECK:"FALSE",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\gg\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_20600_EJQNXEDNEKFGQUAR",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-I4H25K8",ComSpec:"C:\\Windows\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\Windows\\notepad.exe",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\gg\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\gg",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\gg",INIT_CWD:"C:\\Users\\gg\\Desktop\\Camfine",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\gg\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-I4H25K8",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Users\\gg\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\gg\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\gg\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\gg\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\gg\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\gg\\Desktop\\Camfine",npm_config_node_gyp:"C:\\Users\\gg\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.8.1",npm_config_prefix:"C:\\Users\\gg\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\gg\\.npmrc",npm_config_user_agent:"npm/10.8.1 node/v20.13.1 win32 x64 workspaces/false",npm_execpath:"C:\\Users\\gg\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\gg\\Desktop\\Camfine\\package.json",npm_package_name:"campine",npm_package_version:"0.0.0",NPM_PREFIX_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-prefix.js",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\gg\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"4",OneDrive:"C:\\Users\\gg\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\gg\\Desktop\\Camfine\\node_modules\\.bin;C:\\Users\\gg\\Desktop\\node_modules\\.bin;C:\\Users\\gg\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\gg\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\gg\\Desktop\\Camfine\\node_modules\\.bin;C:\\Users\\gg\\Desktop\\node_modules\\.bin;C:\\Users\\gg\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Users\\gg\\AppData\\Roaming\\npm\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\Windows\\System32\\OpenSSH\\;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\gg\\AppData\\Local\\Microsoft\\WindowsApps;C:\\Users\\gg\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\gg\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 94 Stepping 3, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"5e03",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\gg\\Documents\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\Windows\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_CAMPING_API_KEY:"oThapseAPx3YFWMIWm7cDGsbxM5Z641oPuGhupfakdG9qvZUSe3fA81otbILH3Zhopw94W1Q0t3m6m8WEGLZPw==",REACT_APP_FIREBASE_API_KEY:"AIzaSyCTA4aJ2EDHVoGYGNfOCcwS_01yZjWF61w",REACT_APP_FIREBASE_APP_ID:"1:854758722914:web:22275f2a8e84c7f304b03b",REACT_APP_FIREBASE_AUTH_DOMAIN:"campine-57ec5.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-27B3XCQ9SS",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"854758722914",REACT_APP_FIREBASE_PROJECT_ID:"campine-57ec5",REACT_APP_FIREBASE_STORAGE_BUCKET:"campine-57ec5.appspot.com",REACT_APP_KAKAO_API_KEY:"89e192a05a27c4d9d379555198a87faf",REACT_APP_KAKAO__Rest_API_KEY:"18c6fdf668e9e09f9e8914d1b2463f09",REACT_APP_OPENWEATHERMAP_API_KEY:"2dd2a62d904385b0db3f423a042af454",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\Windows",TEMP:"C:\\Users\\gg\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.92.2",TMP:"C:\\Users\\gg\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-I4H25K8",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-I4H25K8",USERNAME:"gg",USERPROFILE:"C:\\Users\\gg",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\gg\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\gg\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-41d23516ab-sock",VSCODE_INJECTION:"1",windir:"C:\\Windows"};const Z=J.REACT_APP_CAMPING_API_KEY,q="https://images.unsplash.com/photo-1523987355523-c7b5b0dd90a7?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D";function oe(){const[l,j]=i.useState([]),[P,A]=i.useState([]),[m,C]=i.useState([]),[_,h]=i.useState(""),[O,u]=i.useState(!1),[f,E]=i.useState(!0),[d,R]=i.useState(!0),[L,b]=i.useState(null),c=10,N=F();i.useEffect(()=>{var a;const s=((a=N.state)==null?void 0:a.searchQuery)||"";h(s),T(s)},[N.state]),i.useEffect(()=>{_===""?(A(l),C(l.slice(0,c)),E(l.length>c),u(l.length===0)):S()},[l,_]);const T=async(s="")=>{let a=[],r=1,o=!0;try{for(;o;){const t=await y.get("https://apis.data.go.kr/B551011/GoCamping/basedList",{params:{ServiceKey:Z,MobileOS:"ETC",MobileApp:"AppTest",_type:"json",numOfRows:1e3,pageNo:r}});if(t.data&&t.data.response&&t.data.response.body&&t.data.response.body.items&&t.data.response.body.items.item){const g=t.data.response.body.items.item;a=[...a,...g],g.length<1e3?o=!1:r+=1}else o=!1}const n=[...new Map(a.map(t=>[t.contentId,t])).values()];j(n),s?S():(A(n),C(n.slice(0,c)),E(n.length>c),u(n.length===0))}catch(n){console.error("데이터 가져오기 오류:",n.response?n.response.data:n.message)}finally{R(!1)}};i.useEffect(()=>{console.log(d?"로딩 중입니다...":"로딩 완료입니다...")},[d]);const S=()=>{R(!0);const a=["애견","애견 동반","애견동반","애견 동","동반"].some(o=>_.includes(o)),r=l.filter(o=>{const t=["facltNm","addr1","addr2","intro","featureNm","doNm","sbrsCl","lineIntro","homepage","operDeCl","operPdCl","posblFcltyCl","posblFcltyEtc","facltDivNm","induty","lctCl","sigunguNm","themaEnvrnCl"].some(g=>o[g]&&o[g].includes(_));return a?t&&o.animalCmgCl==="가능":t});A(r),C(r.slice(0,c)),u(r.length===0),E(r.length>c),R(!1)},M=()=>{if(d||!f)return;const s=P.slice(m.length,m.length+c);C(a=>[...a,...s]),m.length+s.length>=P.length&&E(!1)},p=i.useRef(),x=i.useRef();i.useEffect(()=>(x.current=new IntersectionObserver(s=>{s[0].isIntersecting&&f&&!d&&M()}),p.current&&x.current.observe(p.current),()=>{p.current&&x.current.unobserve(p.current)}),[m,f,d]);const D=s=>{h(s)},U=()=>{window.location.href="/SearchList"};return e.jsxs("div",{id:"SearchList",children:[e.jsx(V,{}),e.jsx("div",{className:"SearchList_main",children:e.jsxs("div",{className:"SearchList_main_warp",children:[e.jsx("div",{className:"SearchList_main_search",children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),S()},children:[e.jsx("input",{type:"text",placeholder:"캠핑장을 검색해보세요 ( 예 : 글램핑 )",value:_,onChange:s=>h(s.target.value)}),e.jsx("span",{className:"material-symbols-rounded",onClick:S,children:"search"})]})}),e.jsxs("div",{className:"SearchList_main_statistics",children:[e.jsxs("div",{className:"SearchList_main_statistics_lt",children:[e.jsx("p",{children:"검색된 캠핑장"}),e.jsxs("h3",{children:[P.length,"개"]}),e.jsx("img",{src:K,alt:"SearchList_main_statistics_lt_back"})]}),e.jsxs("div",{className:"SearchList_main_statistics_rt",children:[e.jsx("p",{children:"핫 키워드"}),e.jsxs(H,{spaceBetween:10,slidesPerView:1,loop:!0,direction:"vertical",autoplay:{delay:2500,disableOnInteraction:!1},modules:[v],children:[e.jsx(I,{onClick:()=>D("글램핑"),children:e.jsx("h3",{children:"글램핑"})}),e.jsx(I,{onClick:()=>D("카라반"),children:e.jsx("h3",{children:"카라반"})}),e.jsx(I,{onClick:()=>D("야영장"),children:e.jsx("h3",{children:"오토캠핑"})})]}),e.jsx("img",{src:Y,alt:"SearchList_main_statistics_rt_back"})]})]}),e.jsx("div",{className:"camp_search_list",children:e.jsx("div",{className:"camp_search_list_warp",children:d?e.jsx("div",{className:"loading-message",children:e.jsx("img",{src:X,alt:"LoadingList"})}):O?e.jsxs("div",{className:"no_results",children:[e.jsxs("div",{className:"no_results_img_warp",children:[e.jsx("img",{src:G,alt:"검색 결과 없음 이미지"}),e.jsx("img",{src:k,alt:"주의 이미지"})]}),e.jsx("h3",{children:"검색결과가 없거나 로딩중이예요."}),e.jsx("button",{onClick:U,className:"retry_button",children:"다시 찾아보기"})]}):m.map((s,a)=>{const r=!s.firstImageUrl;return e.jsxs(w,{to:{pathname:`/camp/${s.contentId}`},state:{campList:l},className:`camp_list_box ${L===a?"hovered":""}`,ref:a===m.length-1?p:null,children:[e.jsx("img",{src:r?q:s.firstImageUrl,alt:"캠핑장 이미지"}),e.jsxs("div",{className:"camp_list_box_warp",children:[r&&e.jsx("p",{className:"none",children:"대체 이미지"}),e.jsxs("div",{className:"camp_info",children:[e.jsx("h3",{children:s.facltNm}),e.jsx("p",{children:s.addr1}),e.jsxs("div",{className:"camp_info_ck",children:["클릭시 상세 페이지로 이동됩니다.",e.jsx("img",{src:W,alt:"list_click_ic"})]})]})]}),e.jsxs("div",{className:"camp_info_briefly",onMouseEnter:()=>b(a),onMouseLeave:()=>b(null),children:["정보 간략히 보기",e.jsx("span",{className:"material-symbols-rounded",children:"keyboard_double_arrow_down"}),e.jsxs("div",{className:"camp_info_details",children:[e.jsx("b",{children:"ㆍ 편의 시설"}),e.jsx("ul",{children:s.sbrsCl?s.sbrsCl.split(",").map((o,n)=>e.jsx("li",{className:"info_item",children:o.trim()},n)):e.jsx("li",{className:"info_item",children:"제공된 정보가 없습니다."})}),e.jsx("b",{children:"ㆍ 업종 정보"}),e.jsx("ul",{children:s.induty?s.induty.split(",").map((o,n)=>e.jsx("li",{className:"info_item",children:o.trim()},n)):e.jsx("li",{className:"info_item",children:"제공된 정보가 없습니다."})}),e.jsx("b",{children:"ㆍ 애견 동반 여부"}),e.jsx("ul",{children:e.jsx("li",{children:s.animalCmgCl==="가능"?"가능":"불가능"})})]})]})]},a)})})})]})}),e.jsx(B,{})]})}export{oe as default};
