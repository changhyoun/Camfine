import{r as n,a as M,j as e,L as U}from"./index-ZgbACXzd.js";import{a as F}from"./axios-BimPEqV4.js";import{A as y,n as w,a as W,l as G}from"./autoplay-tINGqnA7.js";import{S as K,a as H,b as x}from"./swiper-react-k82e6FpW.js";import{H as B}from"./Header-BwuEVdzv.js";import{F as V}from"./Footer-MxgD1r-e.js";import"./swiper-core-3Fj0mbiT.js";import"./firebase-B0OXRoo4.js";const Y="/Camfine/assets/SearchList_main_statistics_rt_back-CZIOnV8f.png",Q="/Camfine/assets/LoadingList-EHqViFEk.png";var J={ACSetupSvcPort:"23210",ACSvcPort:"17532",ALLUSERSPROFILE:"C:\\ProgramData",APPDATA:"C:\\Users\\kch94\\AppData\\Roaming",CHROME_CRASHPAD_PIPE_NAME:"\\\\.\\pipe\\crashpad_4432_PQHYWBLEGBOPOYBK",COLOR:"1",COLORTERM:"truecolor",CommonProgramFiles:"C:\\Program Files\\Common Files","CommonProgramFiles(x86)":"C:\\Program Files (x86)\\Common Files",CommonProgramW6432:"C:\\Program Files\\Common Files",COMPUTERNAME:"DESKTOP-7K4HPQD",ComSpec:"C:\\WINDOWS\\system32\\cmd.exe",DriverData:"C:\\Windows\\System32\\Drivers\\DriverData",EDITOR:"C:\\WINDOWS\\notepad.exe",EFC_22932:"1",FPS_BROWSER_APP_PROFILE_STRING:"Internet Explorer",FPS_BROWSER_USER_PROFILE_STRING:"Default",GIT_ASKPASS:"c:\\Users\\kch94\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass.sh",HOME:"C:\\Users\\kch94",HOMEDRIVE:"C:",HOMEPATH:"\\Users\\kch94",INIT_CWD:"C:\\Users\\kch94\\OneDrive\\바탕 화면\\Camfine",LANG:"en_US.UTF-8",LOCALAPPDATA:"C:\\Users\\kch94\\AppData\\Local",LOGONSERVER:"\\\\DESKTOP-7K4HPQD",NODE:"C:\\Program Files\\nodejs\\node.exe",NODE_ENV:"production",NODE_EXE:"C:\\Program Files\\nodejs\\\\node.exe",NPM_CLI_JS:"C:\\Program Files\\nodejs\\\\node_modules\\npm\\bin\\npm-cli.js",npm_command:"run-script",npm_config_cache:"C:\\Users\\kch94\\AppData\\Local\\npm-cache",npm_config_globalconfig:"C:\\Users\\kch94\\AppData\\Roaming\\npm\\etc\\npmrc",npm_config_global_prefix:"C:\\Users\\kch94\\AppData\\Roaming\\npm",npm_config_init_module:"C:\\Users\\kch94\\.npm-init.js",npm_config_local_prefix:"C:\\Users\\kch94\\OneDrive\\바탕 화면\\Camfine",npm_config_node_gyp:"C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\node-gyp\\bin\\node-gyp.js",npm_config_noproxy:"",npm_config_npm_version:"10.5.0",npm_config_prefix:"C:\\Users\\kch94\\AppData\\Roaming\\npm",npm_config_userconfig:"C:\\Users\\kch94\\.npmrc",npm_config_user_agent:"npm/10.5.0 node/v20.12.2 win32 x64 workspaces/false",npm_execpath:"C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js",npm_lifecycle_event:"build",npm_lifecycle_script:"vite build",npm_node_execpath:"C:\\Program Files\\nodejs\\node.exe",npm_package_json:"C:\\Users\\kch94\\OneDrive\\바탕 화면\\Camfine\\package.json",npm_package_name:"campine",npm_package_version:"0.0.0",NPM_PREFIX_NPM_CLI_JS:"C:\\Users\\kch94\\AppData\\Roaming\\npm\\node_modules\\npm\\bin\\npm-cli.js",NUMBER_OF_PROCESSORS:"16",OneDrive:"C:\\Users\\kch94\\OneDrive",OneDriveConsumer:"C:\\Users\\kch94\\OneDrive",ORIGINAL_XDG_CURRENT_DESKTOP:"undefined",OS:"Windows_NT",Path:"C:\\Users\\kch94\\OneDrive\\바탕 화면\\Camfine\\node_modules\\.bin;C:\\Users\\kch94\\OneDrive\\바탕 화면\\node_modules\\.bin;C:\\Users\\kch94\\OneDrive\\node_modules\\.bin;C:\\Users\\kch94\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\Users\\kch94\\OneDrive\\바탕 화면\\Camfine\\node_modules\\.bin;C:\\Users\\kch94\\OneDrive\\바탕 화면\\node_modules\\.bin;C:\\Users\\kch94\\OneDrive\\node_modules\\.bin;C:\\Users\\kch94\\node_modules\\.bin;C:\\Users\\node_modules\\.bin;C:\\node_modules\\.bin;C:\\Program Files\\nodejs\\node_modules\\npm\\node_modules\\@npmcli\\run-script\\lib\\node-gyp-bin;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files\\nodejs\\;C:\\Program Files\\Git\\cmd;C:\\Users\\kch94\\AppData\\Local\\Microsoft\\WindowsApps;;C:\\Users\\kch94\\AppData\\Local\\Programs\\Microsoft VS Code\\bin;C:\\Users\\kch94\\AppData\\Roaming\\npm",PATHEXT:".COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC;.CPL",PROCESSOR_ARCHITECTURE:"AMD64",PROCESSOR_IDENTIFIER:"Intel64 Family 6 Model 191 Stepping 2, GenuineIntel",PROCESSOR_LEVEL:"6",PROCESSOR_REVISION:"bf02",ProgramData:"C:\\ProgramData",ProgramFiles:"C:\\Program Files","ProgramFiles(x86)":"C:\\Program Files (x86)",ProgramW6432:"C:\\Program Files",PROMPT:"$P$G",PSModulePath:"C:\\Users\\kch94\\OneDrive\\문서\\WindowsPowerShell\\Modules;C:\\Program Files\\WindowsPowerShell\\Modules;C:\\WINDOWS\\system32\\WindowsPowerShell\\v1.0\\Modules",PUBLIC:"C:\\Users\\Public",REACT_APP_CAMPING_API_KEY:"oThapseAPx3YFWMIWm7cDGsbxM5Z641oPuGhupfakdG9qvZUSe3fA81otbILH3Zhopw94W1Q0t3m6m8WEGLZPw==",REACT_APP_FIREBASE_API_KEY:"AIzaSyCTA4aJ2EDHVoGYGNfOCcwS_01yZjWF61w",REACT_APP_FIREBASE_APP_ID:"1:854758722914:web:22275f2a8e84c7f304b03b",REACT_APP_FIREBASE_AUTH_DOMAIN:"campine-57ec5.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-27B3XCQ9SS",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"854758722914",REACT_APP_FIREBASE_PROJECT_ID:"campine-57ec5",REACT_APP_FIREBASE_STORAGE_BUCKET:"campine-57ec5.appspot.com",REACT_APP_KAKAO_API_KEY:"89e192a05a27c4d9d379555198a87faf",REACT_APP_KAKAO__Rest_API_KEY:"18c6fdf668e9e09f9e8914d1b2463f09",REACT_APP_OPENWEATHERMAP_API_KEY:"2dd2a62d904385b0db3f423a042af454",RlsSvcPort:"22112",SESSIONNAME:"Console",SystemDrive:"C:",SystemRoot:"C:\\WINDOWS",TEMP:"C:\\Users\\kch94\\AppData\\Local\\Temp",TERM_PROGRAM:"vscode",TERM_PROGRAM_VERSION:"1.92.2",TMP:"C:\\Users\\kch94\\AppData\\Local\\Temp",USERDOMAIN:"DESKTOP-7K4HPQD",USERDOMAIN_ROAMINGPROFILE:"DESKTOP-7K4HPQD",USERNAME:"kch94",USERPROFILE:"C:\\Users\\kch94",VSCODE_GIT_ASKPASS_EXTRA_ARGS:"",VSCODE_GIT_ASKPASS_MAIN:"c:\\Users\\kch94\\AppData\\Local\\Programs\\Microsoft VS Code\\resources\\app\\extensions\\git\\dist\\askpass-main.js",VSCODE_GIT_ASKPASS_NODE:"C:\\Users\\kch94\\AppData\\Local\\Programs\\Microsoft VS Code\\Code.exe",VSCODE_GIT_IPC_HANDLE:"\\\\.\\pipe\\vscode-git-ccc8e7b299-sock",VSCODE_INJECTION:"1",VSCODE_NONCE:"5bf92032-fab2-4441-b86b-131de7d3beae",VSCODE_STABLE:"1",windir:"C:\\WINDOWS"};const X=J.REACT_APP_CAMPING_API_KEY,Z="https://images.unsplash.com/photo-1523987355523-c7b5b0dd90a7?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D";function re(){const[c,b]=n.useState([]),[E,u]=n.useState([]),[m,h]=n.useState([]),[d,f]=n.useState(""),[j,A]=n.useState(!1),[g,S]=n.useState(!0),[_,D]=n.useState(!0),[L,I]=n.useState(null),l=10,N=M();n.useEffect(()=>{var a;const s=((a=N.state)==null?void 0:a.searchQuery)||"";f(s),v(s)},[N.state]),n.useEffect(()=>{d===""?(u(c),h(c.slice(0,l)),S(c.length>l),A(c.length===0)):P()},[c,d]);const v=async(s="")=>{let a=[],o=1,i=!0;try{for(;i;){const r=await F.get("https://apis.data.go.kr/B551011/GoCamping/basedList",{params:{ServiceKey:X,MobileOS:"ETC",MobileApp:"AppTest",_type:"json",numOfRows:1e3,pageNo:o}});if(r.data&&r.data.response&&r.data.response.body&&r.data.response.body.items&&r.data.response.body.items.item){const C=r.data.response.body.items.item;a=[...a,...C],C.length<1e3?i=!1:o+=1}else i=!1}const t=[...new Map(a.map(r=>[r.contentId,r])).values()];b(t),s?P():(u(t),h(t.slice(0,l)),S(t.length>l),A(t.length===0))}catch{}finally{D(!1)}};n.useEffect(()=>{},[_]);const P=()=>{D(!0);const a=["애견","애견 동반","애견동반","애견 동","동반"].some(i=>d.includes(i)),o=c.filter(i=>{const r=["facltNm","addr1","addr2","intro","featureNm","doNm","sbrsCl","lineIntro","homepage","operDeCl","operPdCl","posblFcltyCl","posblFcltyEtc","facltDivNm","induty","lctCl","sigunguNm","themaEnvrnCl"].some(C=>i[C]&&i[C].includes(d));return a?r&&i.animalCmgCl==="가능":r});u(o),h(o.slice(0,l)),A(o.length===0),S(o.length>l),D(!1)},T=()=>{if(_||!g)return;const s=E.slice(m.length,m.length+l);h(a=>[...a,...s]),m.length+s.length>=E.length&&S(!1)},p=n.useRef(),O=n.useRef();n.useEffect(()=>(O.current=new IntersectionObserver(s=>{s[0].isIntersecting&&g&&!_&&T()}),p.current&&O.current.observe(p.current),()=>{p.current&&O.current.unobserve(p.current)}),[m,g,_]);const R=s=>{f(s)},k=()=>{window.location.href="/SearchList"};return e.jsxs("div",{id:"SearchList",children:[e.jsx(B,{}),e.jsx("div",{className:"SearchList_main",children:e.jsxs("div",{className:"SearchList_main_warp",children:[e.jsx("div",{className:"SearchList_main_search",children:e.jsxs("form",{onSubmit:s=>{s.preventDefault(),P()},children:[e.jsx("input",{type:"text",placeholder:"캠핑장을 검색해보세요 ( 예 : 글램핑 )",value:d,onChange:s=>f(s.target.value)}),e.jsx("span",{className:"material-symbols-rounded",onClick:P,children:"search"})]})}),e.jsxs("div",{className:"SearchList_main_statistics",children:[e.jsxs("div",{className:"SearchList_main_statistics_lt",children:[e.jsx("p",{children:"검색된 캠핑장"}),e.jsxs("h3",{children:[E.length,"개"]}),e.jsx("img",{src:K,alt:"SearchList_main_statistics_lt_back"})]}),e.jsxs("div",{className:"SearchList_main_statistics_rt",children:[e.jsx("p",{children:"핫 키워드"}),e.jsxs(H,{spaceBetween:10,slidesPerView:1,loop:!0,direction:"vertical",autoplay:{delay:2500,disableOnInteraction:!1},modules:[y],children:[e.jsx(x,{onClick:()=>R("글램핑"),children:e.jsx("h3",{children:"글램핑"})}),e.jsx(x,{onClick:()=>R("카라반"),children:e.jsx("h3",{children:"카라반"})}),e.jsx(x,{onClick:()=>R("야영장"),children:e.jsx("h3",{children:"오토캠핑"})})]}),e.jsx("img",{src:Y,alt:"SearchList_main_statistics_rt_back"})]})]}),e.jsx("div",{className:"camp_search_list",children:e.jsx("div",{className:"camp_search_list_warp",children:_?e.jsx("div",{className:"loading-message",children:e.jsx("img",{src:Q,alt:"LoadingList"})}):j?e.jsxs("div",{className:"no_results",children:[e.jsxs("div",{className:"no_results_img_warp",children:[e.jsx("img",{src:w,alt:"검색 결과 없음 이미지"}),e.jsx("img",{src:W,alt:"주의 이미지"})]}),e.jsx("h3",{children:"검색결과가 없거나 로딩중이예요."}),e.jsx("button",{onClick:k,className:"retry_button",children:"다시 찾아보기"})]}):m.map((s,a)=>{const o=!s.firstImageUrl;return e.jsxs(U,{to:{pathname:`/camp/${s.contentId}`},state:{campList:c},className:`camp_list_box ${L===a?"hovered":""}`,ref:a===m.length-1?p:null,children:[e.jsx("img",{src:o?Z:s.firstImageUrl,alt:"캠핑장 이미지"}),e.jsxs("div",{className:"camp_list_box_warp",children:[o&&e.jsx("p",{className:"none",children:"대체 이미지"}),e.jsxs("div",{className:"camp_info",children:[e.jsx("h3",{children:s.facltNm}),e.jsx("p",{children:s.addr1}),e.jsxs("div",{className:"camp_info_ck",children:["클릭시 상세 페이지로 이동됩니다.",e.jsx("img",{src:G,alt:"list_click_ic"})]})]})]}),e.jsxs("div",{className:"camp_info_briefly",onMouseEnter:()=>I(a),onMouseLeave:()=>I(null),children:["정보 간략히 보기",e.jsx("span",{className:"material-symbols-rounded",children:"keyboard_double_arrow_down"}),e.jsxs("div",{className:"camp_info_details",children:[e.jsx("b",{children:"ㆍ 편의 시설"}),e.jsx("ul",{children:s.sbrsCl?s.sbrsCl.split(",").map((i,t)=>e.jsx("li",{className:"info_item",children:i.trim()},t)):e.jsx("li",{className:"info_item",children:"제공된 정보가 없습니다."})}),e.jsx("b",{children:"ㆍ 업종 정보"}),e.jsx("ul",{children:s.induty?s.induty.split(",").map((i,t)=>e.jsx("li",{className:"info_item",children:i.trim()},t)):e.jsx("li",{className:"info_item",children:"제공된 정보가 없습니다."})}),e.jsx("b",{children:"ㆍ 애견 동반 여부"}),e.jsx("ul",{children:e.jsx("li",{children:s.animalCmgCl==="가능"?"가능":"불가능"})})]})]})]},a)})})})]})}),e.jsx(V,{})]})}export{re as default};
